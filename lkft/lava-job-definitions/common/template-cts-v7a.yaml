{% extends device_type %}

{% block job_name %}lkft-android-{{KERNEL_BRANCH}}-{{BUILD_NUMBER}}-cts-v7a{% endblock job_name %}

{% block job_gobal_timeout %}
timeouts:
  job:
    minutes: 960
  action:
    minutes: 15
  connection:
    minutes: 2
{% endblock job_gobal_timeout %}

{% block job_specific_metadata %}
  cts-url: "{{TEST_CTS_URL}}/android-cts.zip"
  cts-manifest: "{{TEST_CTS_URL}}/pinned-manifest.xml"
  cts-version: "{{TEST_CTS_VERSION}}"
  cts-plan: "cts-lkft"
{% endblock job_specific_metadata %}

{% block test_target %}
- test:
    namespace: tlxc
    timeout:
      minutes: 900
    definitions:
    - repository: https://git.linaro.org/qa/test-definitions.git
      from: git
      path: automated/android/noninteractive-tradefed/tradefed.yaml
      params:
        TEST_PARAMS: cts --abi armeabi-v7a
            --exclude-filter CtsDeqpTestCases
            --exclude-filter CtsMediaTestCases
            --exclude-filter CtsMediaTestCases[instant]
            --exclude-filter CtsMediaV2TestCases
            --exclude-filter CtsMediaStressTestCases
            --exclude-filter CtsSecurityTestCases
            --exclude-filter CtsSecurityTestCases[instant]
            --exclude-filter CtsLibcoreTestCases
            --exclude-filter CtsLibcoreOjTestCases
            --exclude-filter CtsAppSecurityHostTestCases
            --exclude-filter CtsIcuTestCases
            --exclude-filter CtsKeystoreTestCases
            --exclude-filter CtsWindowManagerDeviceTestCases
            --exclude-filter CtsDevicePolicyManagerTestCases
            --exclude-filter CtsIdentityTestCases
            --exclude-filter CtsJobSchedulerTestCases
            --exclude-filter CtsIncidentHostTestCases
            --exclude-filter CtsIncidentHostTestCases[instant]
            --exclude-filter CtsStatsdHostTestCases[instant]
            --exclude-filter CtsStatsdHostTestCases
            --exclude-filter CtsPrintTestCases
            --exclude-filter CtsPrintTestCases[instant]
            --exclude-filter CtsFileSystemTestCases
            --exclude-filter CtsFileSystemTestCases[instant]
            --exclude-filter CtsGraphicsTestCases
            --exclude-filter CtsGraphicsTestCases[instant]
            --exclude-filter CtsViewTestCasesSdk28
            --exclude-filter CtsUsbTests[instant]
            --exclude-filter CtsSystemApiSignatureTestCases
            --exclude-filter CtsWidgetTestCases[instant]
            --exclude-filter signed-CtsSecureElementAccessControlTestCases3[instant]
            --exclude-filter CtsSystemApiAnnotationTestCases[instant]
            --exclude-filter CtsVideoTestCases
            --exclude-filter CtsWindowManagerSdk25TestCases
            --exclude-filter CtsViewTestCases
            --exclude-filter signed-CtsSecureElementAccessControlTestCases3
            --exclude-filter CtsVoiceSettingsTestCases[instant]
            --exclude-filter signed-CtsSecureElementAccessControlTestCases2
            --exclude-filter signed-CtsSecureElementAccessControlTestCases1
            --exclude-filter CtsSystemUiHostTestCases
            --exclude-filter CtsWrapWrapDebugTestCases
            --exclude-filter CtsUiRenderingTestCases27[instant]
            --exclude-filter CtsUsesLibraryHostTestCases
            --exclude-filter CtsWifiTestCases[instant]
            --exclude-filter CtsThemeDeviceTestCases
            --exclude-filter CtsTaggingHostTestCases[instant]
            --exclude-filter CtsSyncContentHostTestCases
            --exclude-filter CtsToastTestCases[instant]
            --exclude-filter CtsTransitionTestCases
            --exclude-filter CtsUtilTestCases
            --exclude-filter CtsUsageStatsTestCases[instant]
            --exclude-filter CtsUsageStatsTestCases
            --exclude-filter cts-system-all.txt
            --exclude-filter CtsTextTestCases
            --exclude-filter CtsVoiceInteractionTestCases[instant]
            --exclude-filter CtsTelecomTestCases2
            --exclude-filter CtsTelecomTestCases3
            --exclude-filter CtsTelephony2TestCases
            --exclude-filter signed-CtsSecureElementAccessControlTestCases1[instant]
            --exclude-filter CtsUidIsolationTestCases[instant]
            --exclude-filter CtsSystemUiTestCases[instant]
            --exclude-filter CtsTvProviderTestCases
            --exclude-filter CtsVoiceSettingsTestCases
            --exclude-filter CtsSyncAccountAccessOtherCertTestCases
            --exclude-filter CtsUiRenderingTestCases
            --exclude-filter CtsWifiBroadcastsHostTestCases
            --exclude-filter CtsTetheringTest
            --exclude-filter CtsWebkitTestCases[instant]
            --exclude-filter CtsTextTestCases[instant]
            --exclude-filter CtsSustainedPerformanceHostTestCases
            --exclude-filter CtsThemeHostTestCases
            --exclude-filter CtsUserspaceRebootHostSideTestCases
            --exclude-filter CtsWindowManagerSdk28TestCases
            --exclude-filter CtsWidgetTestCases
            --exclude-filter CtsSystemApiAnnotationTestCases
            --exclude-filter CtsUiAutomationTestCases
            --exclude-filter CtsWrapNoWrapTestCases
            --exclude-filter CtsWifiBroadcastsHostTestCases[instant]
            --exclude-filter CtsTelecomTestCases
            --exclude-filter CtsUiRenderingTestCases27
            --exclude-filter CtsSyncManagerTestsCases
            --exclude-filter CtsUidIsolationTestCases
            --exclude-filter CtsTaggingHostTestCases
            --exclude-filter vm-tests-tf
            --exclude-filter CtsTelephonyTestCases
            --exclude-filter CtsSystemIntentTestCases
            --exclude-filter CtsTvTestCases
            --exclude-filter cts-platform-version-check
            --exclude-filter CtsTfliteNnapiDelegateTestCases
            --exclude-filter CtsUtilTestCases[instant]
            --exclude-filter CtsTelephony2TestCases[instant]
            --exclude-filter CtsToastLegacyTestCases
            --exclude-filter CtsWifiTestCases
            --exclude-filter CtsViewInspectorAnnotationProcessorTestCases
            --exclude-filter CtsWebkitTestCases
            --exclude-filter CtsTelephonySdk28TestCases
            --exclude-filter CtsVoiceInteractionTestCases
            --exclude-filter CtsVrTestCases
            --exclude-filter CtsUiAutomationTestCases[instant]
            --exclude-filter CtsTrustedVoiceHostTestCases
            --exclude-filter CtsViewTestCasesSdk28[instant]
            --exclude-filter CtsSystemUiHostTestCases[instant]
            --exclude-filter CtsTelephonyProviderTestCases
            --exclude-filter CtsToastTestCases
            --exclude-filter cts-system-all.txt[instant]
            --exclude-filter CtsSystemUiTestCases
            --exclude-filter CtsUiRenderingTestCases[instant]
            --exclude-filter signed-CtsSecureElementAccessControlTestCases2[instant]
            --exclude-filter CtsTelephony3TestCases
            --exclude-filter CtsUsbTests
            --exclude-filter CtsTelephonyHostCases
            --exclude-filter CtsSystemApiSignatureTestCases[instant]
            --exclude-filter CtsWrapWrapNoDebugTestCases
            --exclude-filter CtsViewInspectorAnnotationProcessorTestCases[instant]
            --exclude-filter CtsPerfettoTestCases
            --exclude-filter CtsShortcutHostTestCases
            --exclude-filter CtsNativeHardwareTestCases
            --exclude-filter CtsNativeMidiTestCases
            --exclude-filter CtsAutoFillServiceTestCases[instant]
            --exclude-filter CtsAutoFillServiceTestCases
            --exclude-filter CtsBackupHostTestCases
            --exclude-filter CtsBackupTestCases
            --exclude-filter CtsSecurityBulletinHostTestCases
            --disable-reboot
        TEST_URL: "{{TEST_CTS_URL}}/android-cts.zip"
        TEST_PATH: "android-cts"
        RESULTS_FORMAT: "atomic"
        ANDROID_VERSION: "{{ANDROID_VERSION}}"
      name: "cts-lkft"
{% endblock test_target %}
